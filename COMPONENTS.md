# توثيق مكونات تطبيق حاسبة العمولات

## المكونات الرئيسية للواجهة

### 1. الهيدر (Header)
- العنوان الرئيسي "حاسبة العمولات"
- العنوان الفرعي "احسب عمولاتك بكل سهولة ويسر"
- شعار التطبيق على الجانب
- تصميم متجاوب مع الشاشات المختلفة

### 2. أزرار التحكم (Controls)
- زر تغيير اللغة (عربي/إنجليزي)
- زر تبديل الوضع المظلم/المضيء
- تصميم متناسق مع الألوان المتدرجة

### 3. مكون النسب (CommissionInputs)
- حقل النسبة المئوية من المبلغ
- حقل المبلغ الثابت المضاف
- حقل الحد الأدنى للعمولة
- حقل الحد الأقصى للعمولة
- إمكانية تفعيل/تعطيل كل حقل على حدة

### 4. شريط الأدوات
- زر استيراد ملف Excel
  * يدعم التعرف التلقائي على أعمدة المبالغ
  * يستورد أرقام الحسابات وأسماء أصحابها
- حقل البحث في المعاملات
  * يبحث في المبالغ والعمولات
  * يبحث في أرقام الحسابات وأسماء أصحابها
- زر مسح البيانات المدخلة

### 5. منطقة العرض الرئيسية
#### مربع الإدخال
- يعرض المبالغ المدخلة
- يدعم الإدخال اليدوي (سطر لكل مبلغ)
- يدعم البيانات المستوردة من Excel

#### مربع النتائج
- عرض تفاصيل كل معاملة:
  * رقم الحساب
  * اسم صاحب الحساب
  * المبلغ
  * العمولة المحتسبة
- إمكانية الضغط على أي معاملة لعرض تفاصيلها

### 6. مربع الإجماليات
- إجمالي المبالغ المدخلة
- إجمالي العمولات المحتسبة
- الإجمالي الكلي (المبالغ + العمولات)

### 7. الأزرار السفلية
- زر المطور
  * رابط مباشر للتواصل عبر WhatsApp
  * تصميم متميز بتدرج لوني أخضر
- زر التصدير إلى PDF

## المربعات المنبثقة

### 1. مربع تفاصيل المعاملة
- عرض النسب المستخدمة في الحساب:
  * النسبة المئوية
  * المبلغ الثابت
  * الحد الأدنى
  * الحد الأقصى
- تفاصيل المعاملة:
  * المبلغ
  * العمولة
  * معلومات الحساب (إن وجدت)
  * رقم الحساب (إن وجد)
  * اسم صاحب الحساب (إن وجد)

### 2. مربع إعدادات PDF
- حقل إدخال اسم الشركة
- زر اختيار شعار الشركة
- أزرار التصدير والإلغاء

## مواصفات ملف PDF المصدر

### 1. ترويسة الصفحة
- في حالة عدم تخصيص:
  * العنوان الفرعي فقط
- في حالة التخصيص:
  * اسم الشركة
  * العنوان الفرعي
  * شعار الشركة

### 2. معلومات الملخص
- عدد التحويلات
- عدد الصفحات
- الإجمالي الكلي (مبالغ + عمولات)

### 3. جدول المعاملات
- رأس الجدول:
  * ID (الترقيم)
  * رقم الحساب
  * اسم الحساب
  * المبلغ
  * العمولة
- صف الإجمالي:
  * كلمة "Total"
  * إجمالي المبالغ
  * إجمالي العمولات
- ترقيم الصفحات في أسفل كل صفحة
- علامة مائية من شعار الشركة في خلفية كل الصفحات

## الميزات العامة
- دعم كامل للغتين (العربية والإنجليزية)
- دعم الوضع المظلم/المضيء
- تصميم متجاوب مع جميع الشاشات
- حساب تلقائي للعمولات
- دعم استيراد وتصدير البيانات
- واجهة مستخدم سهلة وبسيطة

## مكونات وملفات التطبيق

## المكونات الرئيسية

### 1. واجهة المستخدم (UI Components)
- **PDFSettingsModal**: مربع حوار إعدادات PDF
  - دعم إضافة شعار الشركة
  - دعم إضافة اسم الشركة
  - معاينة الشعار المحدد
  - إمكانية إزالة الشعار

### 2. المولدات (Generators)
- **PDFGenerator**: مولد ملفات PDF
  - 4 حالات مختلفة لعرض الترويسة:
    1. عرض الشعار واسم الشركة معاً
    2. عرض الشعار فقط
    3. عرض اسم الشركة فقط
    4. عرض العنوان الفرعي فقط
  - جدول منسق للبيانات
  - إجماليات في نهاية الجدول

### 3. الأدوات المساعدة (Utils)
- **ExcelUtils**: معالجة ملفات Excel
- **CommissionCalculator**: حساب العمولات

## الوظائف الرئيسية

1. **تصدير البيانات**
   - تصدير إلى PDF مع خيارات تخصيص
   - تصدير إلى Excel

2. **معالجة البيانات**
   - حساب العمولات
   - عرض النتائج في جدول
   - البحث في النتائج

3. **تخصيص المخرجات**
   - إضافة شعار الشركة
   - إضافة اسم الشركة
   - تنسيق وترتيب البيانات

## التحديثات الأخيرة

1. **تحسينات PDF**
   - دعم عرض شعار الشركة في أعلى الملف
   - دعم عرض اسم الشركة
   - تحسين تنسيق العناوين والهوامش
   - إضافة تعليقات توضيحية للكود

2. **تحسينات واجهة المستخدم**
   - تحديث تصميم مربع حوار إعدادات PDF
   - إضافة معاينة الشعار
   - تحسين تجربة المستخدم في اختيار وإزالة الشعار
